{% extends 'base.html' %}

{% block content %}
<div class="row">


  
       {% for product in products %}
        <div class = "col-sm-12 col-md-4 col-lg-3">
             <div class="card mb-0 h-100">
                    <img class="card-img-top" src='{{ MEDIA_URL }}{{ product.image }}'>
                <div class="card-body">
                    
                    <h3 class="card-title">{{ product.name }}</h3>
                    <p class="card-text">{{ product.description }}</p>
                    <p>Price: <i class="fa fa-eur" aria-hidden="true"></i>{{ product.price }}</p>

                    <form method="post" action="{% url 'add_to_cart' product.id %}">
                    
                        {% csrf_token %}
                        <div class="form-group mx-sm-3 mb-2">
                            <input name="quantity" type="number" min="0" max="{{product.stock}}" value="0" class="form-control" placeholder="Quantity" >
                            
                        </div>

                        <button class="btn-sm btn-primary" type="submit" name="select" value="add">Add to Cart</button> 

                        {% if product.id in cartIDS %}
                            <button class="btn-sm btn-danger" type="submit" name="select" value="remove">Remove from Cart</button> 
                        {% else %}   
                            <button class="btn-sm btn-secondary" type="submit" name="select" value="remove" disabled>Remove from Cart</button> 
                        {% endif %}
                        
                    </form>

                </div>      
             </div>  
        </div>
        {% endfor %}
    
</div>

{% endblock %}